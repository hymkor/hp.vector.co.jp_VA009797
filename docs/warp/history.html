<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML i18n//EN">
<HTML>
<HEAD>
  <STYLE TYPE="text/css">
  <!--
	LI{color:#EEEEAA}
	B{color:red}
	UL{font-weight:bold;color:aqua}
	UL UL{font-weight:normal;color:white}
  -->
  </STYLE>
  <TITLE>Nihongo Yet Another Os/2 Shell Support Page(history)</TITLE>
  <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-2022-JP">
</HEAD>
<BODY bgcolor = "#000000" text  = "#FFFFFF" link="#00FF00" vlink="#00AA00" alink = "#FF0000">

<H3><A NAME="history">変更履歴</A></H3>
<UL>
  <LI> 1.00 : (1996/12/12)
       <UL>
	 <LI> 初版。
       </UL>
  
  <LI> 1.00 → 1.10 : (1996/12/20)
       <UL>
	 <LI> スクリプト実行支援機能。
       </UL>
  <LI> 1.10 → 1.11 : (1996/12/24)
       <UL>
	 <LI> <TT>set</TT>命令でリダイレクトできるようにした。
       </UL>
  <LI> 1.11 → 1.12 : (1997/1/8)
       <UL>
	 <LI> パイプのあとでもエイリアスが効くようにした。
	 <LI> 大抵の内蔵コマンドで、出力リダイレクト／パイプが効くように
	      なった。
	 <LI> Filestar 実行後でも、カーソルが点滅するようにした。
	 <LI> 終了時に「Abnormal program termination」が出るバグを除いた。
	 <LI> 漢字ファイル名に関するバグを除いた。
	 <LI> 内蔵コマンド,エイリアスの名前を英大/小文字を区別しないように
	      した。
	 <LI> setの中で %…%で環境変数を参照できるようにした。
       </UL>
  <LI> 1.12 → 1.13 : (1997/1/13)
       <UL>
	 <LI> echo, comment, pwd, option コマンドの追加。
	 <LI> scriton,scritoff,echon,echoff コマンドの廃止。
	 <LI> Ctrl-D でも終了できるようにした。(option)
	 <LI> cd で $HOME へ移動できるようにした。(option)
	 <LI> 環境設定ファイルを $HOME から探すようにした。
	 <LI> 内蔵lsを本来のlsのように、ソ−ト結果を縦に並べるようにした。
	 <LI> ファイル名補完時に一つだけにマッチするときは、
	      補完個所以外での英字の大小をファイルに合わせるようにした。
	 <LI>「&amp;」の解釈を UNIX 風にできるようにした。(option)
       </UL>
  <LI><a name="1.14">1.13 → 1.14</A> (1997/1/15)
       <UL>
	 <LI> 「&amp;」による start に /C オプションをつけないようにした。
	 <LI> ls が余分に改行するバグをとった。
	 <LI> TAB×2 による補完候補リスト候補でもソ−ト結果を縦に並べるよう
	      にした。
	 <LI> ディレクトリの末尾につける「\」を「/」にできるようにした。
	      (option)
	 <LI> チルダを $HOME に変換できるようにした。(option)
	 <LI> set 以外の内蔵コマンドでも「%環境変数名%」を認識するようにした。
	 <LI> 内蔵コマンドで「>>」を使えなかったバグを取った。
	 <LI> 「echo foo >tmp」で tmp の内容が「foo >tmp」になるバグを取った。
       </UL>
  <LI><a name="1.15">1.14 → 1.15</A> (1997/2/14)
       <UL>
	 <LI>「<TT>ls *</TT>」の表示が本物の ls とほぼ同じとなった。
	 <LI> 日本語ファイル名の補完に関するバグを取った。
	 <LI> echo でダブルクォ−トを表示する文字を「^"」から「^q」へ変えた。
	 <LI>「^&amp;」「^|」をコマンド区切りと誤認するバグをとった。
	 <LI>「~bar」を、「%HOME%/../bar」に置換するようにした。
	 <LI> ファイル名補完名でも「~」を認識するようにした。
	 <LI> コマンド名補完を実装(PATH/SCRIPTPATHも検索)
	 <LI> 引き数なし数のechoがとんでしまうバグをとった。
	 <LI> comment は コメントにダブルクォ−ト自身を含めないようにした。
	 <LI> Ctrl-Zによる終了をoptionで無効にできるようにした。
       </UL>
  <LI> <a name="1.16">1.15 → 1.16</a> (1997/3/3)
       <UL>
	 <LI> ファイル名補完に関して
	      <UL>
		<LI> 被補完部分の大文字・小文字を、第一候補に合わせるよう
		     にした。
		<LI> デフォルトで、HIDDEN属性のファイル、名前の末尾にチルダ
		     の付いた<nobr>ファ</nobr>イルを補完候補から外すようにした。
		<LI> ４段の一覧表示の不具合を多分直した。
	      </UL>
	 <LI> コマンド名補完に関して
	      <UL>
		<LI> カレントドライブ以外のカレントディレクトリが変わって
		     しまうバグをとった。
		<LI> カレントディレクトリが環境変数PATHにある場合、
		     同じファイルを二回数えてしまうバグをとった。
	      </UL>
	 <LI> 「ls -a」でHIDDEN属性のファイルの色を青にして、
	      SYSTEM属性の赤と区別した。
       </UL>
  <LI> <a name="1.20">1.16 → 1.20</a> (1997/4/4)
       <UL>
	 <LI> bind , bindkeyなどによるキ−バインドの変更機能。
	 <LI>「!!」,「!n」,「!-n」や「history」命令,Promptの「$!」など。
	 <LI>「%\」「%/」などエイリアスのマクロ
	 <LI> mkdir や rmdir で、ディレクトリ名の末尾にル−トを付けても
	      エラ−にならないようにした。
	 <LI> コマンド名補完の候補に、内蔵コマンドやエイリアスも加えた。
	 <LI>「ls ../e*」と入力した際、
	      「e」で始まるディレクトリしか表示されなかったバグを除いた。
	 <LI>「ls -l」でファイルの日付が狂うバグを除いた。
	 <LI> ls のカラ−をカスタマイズできるようにした。
       </UL>
  <LI> <a name="1.21">1.20 → 1.21</a> (1997/4/10)
       <UL>
	 <LI> 1.20 のバグで、2bytes文字を入力するととぶバグを除いた
       </UL>
  <li> <a name="1.22">1.21 → 1.22</a> (1997/6/27)
       <ul>
	 <li> 「cd/usr/local/bin」や「dir/w」,「cd..」などのように、<!--
		-->一部の内蔵コマンドについて、直後に空白なしで<!--
		-->ディレクトリ名やオプションを続けられるようになっ<!--
		-->た。(ということは、今までは出来なかったというわけですわ)
	 <li> コマンド名補完の際、ディレクトリが補完対象に<!--
		-->入っていなかったために、絶対パスで入力するコマンド名の<!--
		-->補完がうまくいかなったのを直した。
	 <li> 0カラム目での Ctrl-D ではコマンド名補完をしないようにした。
	 <li> Promptの「$I」をようやくサポート。
	 <li> 「a:」でドライブを移動する際、コロンの後に空白が続くと、<!--
		-->移動できなかったのを修正した。
	 <li> lsに関する以下のバグを修正した。
	      <ul>
		<li>存在しないファイル名だけを指定すると,「ls .」<!--
			-->と同じ意味になる(1.20-)
		<li>秒の値が半分になっているバグ。
		<li>「ls /OS*/E*」のようなディレクトリに対しての<!--
			-->ワイルドカードが効かなかっ
		     たバグ(1.20-)
	      </ul>
	 <li> ヒストリで最初の Ctrl-P でトップの履歴を<!--
		-->とばしてしまうバグがあったので、
	      修正。また、Ctrl-U の入力で、参照のポインタをトップに戻すようにした。
       </ul>
  <li> <a name="1.23">1.22 → 1.23</a> (1997/8/7)
       <ul>
	 <li> インクリメンタルサーチによるヒストリの参照をサポートした。
	 <li> 「!」の仕様をより csh に近くし、「!str」「!?str?」を追加した。
	 <li> option として slash_to_backslash_after_tilda を設置した。
	 <li> 「&amp;&amp;」「||」機能
	 <li> 内蔵コマンドへ「&quot;aaaa&quot;&quot;bbbb&quot;」といった引数を渡すと
	      「aaaa&quot;bbbb」と認識させるようにした。
	 <li> aliasのマクロに「%@」「%n@」を追加。また、aliasの置換文字列の範囲を明確に
	      した。
	 <li> カラム目で TAB を二回叩いても、コマンド名のリストを表示しないようにした。
	 <li> 実行する外部コマンドによっては、カーソルが消えたまま、回復しないという不
	      具合があったので、system関数を呼ぶ前にカーソルの大きさを記憶し、実行後 そ
	      の大きさにカーソルを戻すようにした。modeコマンドだけは、画面の大きさに応
	      じて、適切なカーソルの大きさを変えてしまうので、これは簡単な Hook を設け
	      た。ただし、「mode ...」ではなく「/os2/mode ...」とか「mode.com ...」と呼
	      び出すと、Hookにひっかからない為、カーソルの形が狂ってしまう。注意。
	 <li> 「option +vio」の時ならば、環境変数PROMPTの設定が CMD.EXE と完全互換となった。
       </ul>
  <li> <a name="1.24">1.23 → 1.24</a>(1997/8/16)
       <ul>
	 <li> 「ls .*」でドットファイルを表示できるようにした(-aを付けないと駄目だった)。
	 <li> 「!」で存在しないヒストリを参照しようとした時、「Event not found」と表示
	        するようにした。
	 <li> 「source」命令がファイルを読み込まないことがあったのfix。
	 <li> 機能文字を無効化する「^」が効かない時があったのを直した(つもり)。
	 <li> カレントディレクトリ以外を指定した eadir がちゃんと作用しなかったのをfix。
	 <li> eadir で、.COMMENT と .LONGNAME を別の色で表示できるようにした。(LS_COLORS で、「CM」と「LN」を拡張)
	 <li> 「-c」オプションを追加
	 <li> 「echo ahaha &amp;&amp; echo ufufu」で、別のセッションが空で起動してしまうのをfix
	 <li> エイリアスを利用した過去の入力を「!」のヒストリで利用できなかったので、
	      入力の展開の順番を換えて、エイリアス展開をヒストリ・環境変数の展開の後に
	      おこなうようにした。また「~」を使った入力行を「!」で利用しても、環境変数
	      HOMEの内容に展開されなかったというバグも fix した。
	 <li> 「<TT>....&amp;</TT>」などで、NYAOSが落ちるバグを<B>追加</B>してしまった。
       </ul>
  <li> <a name="1.25">1.24 → 1.25</a>(1997/9/12)
       <ul>
	 <LI>「&amp;」のstart変換を行うと、NYAOS が abort してしまうバグを取った。
	 <LI> CDPATH の設置
	 <LI> pushd で、存在しないディレクトリを指定した場合も、カレントディレクトリを
	      ディレクトリスタックにセーブしてしまうバグを取った。
	 <LI> SOS Script の実行。
	 <LI> コマンド名補完の候補が一つであるのに、二つの候補になってしまうバグを取った
	      (SCRIPTPATHかPATH上にカレントディレクトリがある場合など)。
	 <LI> 「!str」の str の範囲を空白文字までとした。
	 <LI> COMSPEC に NYAOS を指定できるようにした。
	 <LI> open命令を追加。
	 <LI> emxlibcs.dll , emxwrap.dll を使い、実行ファイルのサイズを半分にした。
       </UL>
  <li> <a name="1.26">1.25 → 1.26</a>(1997/9/19)
       <ul>
	 <LI> which 命令の追加(実は、初めから、ちょっと、buggy)
	 <LI> 「open e:\」「open usr\」など、末尾に「\」があると、openが実行されない
	      バグを除いた。
	 <LI> 存在しない絶対パスにCDしようとすると時間がかかるので、相対パスが存在し
	      ない場合のみCDPATHを検索させるようにした。
	 <LI> alias の「%@」「%n@」で、末尾が「/」「\」で終わる引数には「.」を追加
	      するようにした。また、最初の引数以外で「-」→「/」変換をしないバグを
	      除いた。
       </ul>
  <li> <a name="1.27">1.26 → 1.27</a>(1997/9/22)
       <ul>
	 <li> 「cd_xxx.exe」という実行ファイルが、「cd xxx.exe」と勘違いされるバグを除いた。
	 <li> アイコンとインストーラーをつけた。
       </ul>
  <li> <a name="1.28">1.27 → 1.28</a>(10/8)
       <ul>
	 <li> source で読み込むファイルや、nyaos.rc(.nyaos) が REXX で記述可能になった。
	 <li> foreach のコマンド入力を Ctrl-C でキャンセルできるようにした。
	 <li> exec 命令
	 <li> Ctrl-T の追加
	 <li> インストーラーに EMX チェック機能を付けた。
	 <li> SCRIPTPATH の検索ルーチンを作り直した。
	      <ul>
		<li> カレントディレクトリのスクリプトも検索するようにした。
		<li> SCRIPTPATH の EXE,CMD,COM ファイルも実行可能(絶対パスに置換する)
		<li> 拡張子を省略した場合、EXE,CMD,COM,拡張子無しの順で検索するようにした。
	      </ul>
       </ul>
  <li> <a name="1.29">1.28 → 1.29</a>(1997/10/17)
       <ul>
	 <li> 「A &amp;」が「start A &amp;xxxxx\」(xxxxxは SCRIPTPATHの最初のディレクトリ)
	      となってしまうバグをフィックス
	 <LI> FATのドライブを ls した時に、カレントドライブでは大文字、そうでない時は
	      小文字になってしまうバグを修正した(大文字に統一される)。
	 <LI> Joliet 形式の CD-ROM で、英大文字が小文字になってしまうバグを除いた。
	 <LI> option の画面表示を抑制した。
	 <LI> cd-short機能の一部実装
	 <LI> 拡張Prompt(${..}),NYAOSPROMPT,NYAOSPROMPT2(foreach用)
	 <LI> REXXのスクリプトを source する時、パス区切りにスラッシュを使っていると、
	      実行しないバグを修正。
       </ul>
  <li> <a name="1.30">1.29 → 1.30 </a>(1997/10/29)
       <ul>
	 <li> 「ls  ディレクトリ名/ワイルドカード」の動作がおかしいのを修正
	 <LI>「ls *」などで、複数のディレクトリが指定された時、Ctrl-C による中断が
	      効かない場合があったのを修正。
	 <LI>「ls .*」がエラーになるバグを修正。
	 <LI> ls の３行スクロールモード。
	 <LI> CDPATH や CDSHORT は、cd {-p|-s|-t},cds で動作するように変更。
	      それに伴い、「option cd_short_top」を廃止。
       </ul>
  <li> <a name="1.31">1.30 → 1.31</a>(1997/11/12)
       <ul>
	 <li> 環境変数SCRIPTPATHのパス区切りに「/」を使い、
	      option +amp_startの状態で、
	      SCRIPTPATH上のEXEファイルについて「foo &amp;」と
	      実行できないバグを修正
	 <li> alias で定義した命令について「foo &amp;」が実行できないバグを修正
	 <li> NYAOS 自身の引数に開始ディレクトリを指定できるようにした。
	 <li> リダイレクトの「&gt;」の後を空にすると、core を吐くバグを修正
	 <li> タイトルロゴ表示抑制オプション「-q」
	 <li> open コマンドに -t/-d/-i/-o オプションを加え、
	      オブジェクトIDを指定できるようにした。
       </ul>
  <li> <a name="1.32">1.31 → 1.32</a>(1997/12/2)
       <ul>
	 <li> option prompt_even_piped , cmdlike_crlf の追加
	 <li> 「alias 既存のエイリアス」で、定義内容を表示させるようにした。
	 <li>  内蔵 ls に対して次のような修正を行なった。
	      <ul>
		<li> サポートしていないオプションを見付けた場合、
		     外部の ls.exe を呼び出すようにした。
		<li> GNU ls 非互換のオプション e,p,o を E,P,O と変更
		<li> 互換オプション BRcSuXUtF を追加。
	      </ul>
	 <li> option tilda_home をデフォルトで on にした。
	 <li> cursor命令を寡黙にした。
	 <li> chcp で画面モードを変更した時に、
	      NYAOS自身のコードページも同時に変えるようにした。
	 <li> 「|&amp;」を追加し、「2&gt;&amp;1」が正常に動作しな
	      かったバグを修正。
	 <li> unalias した別名を、実行しようとすると落ちるバグを取った。
	 <li> 「cd -p」などで落ちるバグを修正。
	 <li> 末尾以外のC-t の動作を、カーソル位置の文字と左の文字を
	      入れ換えた後に右へ一文字移動するようにした。
	 <li> 引数無しの open でカレントディレクトリを開くようにした。
       </ul>
  <li> <a name="1.33">1.32 → 1.33</a>(1997/12/24)
       <ul>
	 <li> プロンプトのカレントディレクトリの大文字・小文字をちゃんと表示するようにした。
	 <li> 環境変数PROMPTのマクロとして、「$@」:カレントドライブのボリュームラベル
	      を加えた。
	 <li> エイリアスでリダイレクトが効かないバグを取った。
	 <li> 引数が30個を越すと、落ちてしまうバグを取った。
	 <li> 「|」の前に空白文字を置かないと、最後の引数の一部と誤認されるバグを修正。
	 <li> mode co%d,%d を実行の際にその内容を環境変数 COLUMNS と LINES に自動的に
	      反映させるようにした。
	 <li> 「~:」(チルダ+コロン) をブートドライブ名に置換するようにした。
	 <li> /foo の完全補完には /foo/、\foo の完全補完は \foo\ になるようにした。
	 <li> XFree86 for OS/2 の xterm クライアント対応
	 <li> コードページ 437 で日本語ファイル名を ls すると凍る問題に対処
       </ul>
  <li> <a name="1.34">1.33 → 1.34</a>(1998/1/19)
       <ul>
	 <li> ヒストリで「!:n」「!^」「!$」などが使えるようになった。
	 <li> open命令の -a(アクティブ化)オプションの追加
	 <li> jobs , fg , bg 命令によるPMウインドウコントロール
	 <li> 「内部コマンド(失敗) || コマンド」で後のコマンドが実行できるようになった。
	 <li> プロンプトのルートが、1.33で「\」になったのを「/」に戻した。
	 <li> 「(空白);」「&amp;;」をコマンドの逐次実行の区切文字とした。
	 <li> 環境変数(NYAOS)Promptで「$!」の代わりに「$ZH」,「$@」の代わりに「$ZV」を
	      使えるようにした。
	 <li> n 個(n>1)上のディレクトリを(n+1)個の「.」で指定可能できるようになった。
       </UL>
       (bugfix)
       <UL>
	 <li> 「&gt;」の前に空白文字列を置かないと、引数の一部と誤認されるバグを修正。
	 <li> アペンドリダイレクトが上書きリダイレクトになるバグを修正
	 <li> カラーモードの eadirで .LONGNAME属性が表示されないバグ(1.32〜)を修正。
	 <li> Ctrl-C で内蔵コマンドが終了できないバグ(1.33〜)を修正
	 <li> (画面幅-1)文字以上の名前のファイルが存在すると ls や補完で落ちるバグ
	      を修正
	 <li> PM Mule上で ls が落ちるバグがとれているかもしれない。
       </ul>
  <li> <a name="1.35">1.34 → 1.35</a>(1998/2/18)
       <ul>
	 <li> cshライクな逆クォート
	 <li> コマンド名補完やスクリプト実行機能のキャッシング
	 <li> カレントディレクトリの拡張属性の .LONGNAME を
	      プロンプトで表示 (マクロ $ZP)
	 <li> foreach の出力結果をリダイレクトできるようになった。
       </ul>
       (bugfix)
       <ul>
	 <li> ls -c/-t などで、同一時刻のファイルが存在すると
	      一方が表示されなかった。
	 <li> pushd/popd で元ディレクトリに帰れない場合があった。
	 <li> 補完対象が「!」を名前に含んでいる時に自動で引用符で囲まなかった。
	 <li> 「A ; B」(A,Bな内蔵コマンド)と入力した時にヒストリーに
	      「A &amp;; B」と「B」
	      の二つが登録されてしまっていた。
	 <li> Ctrl-C が foreach 他でまた効かなくなっていた。
	 <li> ソースのパッケージ(NYAOS1xx.TGZ)に
	      getkey.c(今は.cc) が抜けていた。
	 <li> 「set gehogeho=」で環境変数gehogehoの未定義化ができなかった。
       </ul>
  <li> <a name="1.36">1.35 → 1.36</a>(1998/3/5)
       <ul>
	 <li> 「かんな」による日本語入力サポート
	 <li> 変換型ファイル名補完機能
	 <li> ls の出力先をリダイレクト/パイプする時は、1ファイル/行で表示するようにした。
	 <li> 引数なしの pushd で、スタックトップとカレントディレクトリを交換するように
	      した。
       </ul>
       (bugfix)
       <ul>
	 <li> 「nyaos -c」で内蔵コマンドを呼び出す時、空白を含む引数を渡せなかった。
       </ul>
  <li> <a name="1.37">1.36 → 1.37</a>(1998/3/11)
       <ul>
	 <li> 実行ファイルにデバッグシンボルが付いたままになっていた。
	 <li> cursor 命令を定義しないと「(null)m」と山のように表示される。
	 <li> ls -S でサイズが同じファイルの一方が消えてしまう。
	 <li> any_where_history のデフォルトが、ドキュメントファイルと違う。
	 <li> COMSPEC が NYAOS の時に mode coXX,YY で画面サイズが変わらない。
	 <li> ls でコードページが 942,943 の時、日本語ファイル名が表示されない。
	 <li> lsで、時刻によるソート、サイズによるソートが、GNU ls と逆になっていた。
	 <li> ヒストリを参照した入力文字列が、ヒストリに登録されなかった。
       </ul>
  <li> <a name="1.38">1.37 → 1.38</a>(1998/3/20)
       <ul>
	 <li> 「かんにゃおす」との同一バイナリ化
	 <li> シングルクォートの導入
	 <li> 逆クォートの動作の変更
	 <li> 全画面モード用のアイコンを用意
       </ul>
       (bugfix)
       <ul>
	 <li> スクリプト test.pl に対し、「test.pl↓」「less↓」「test.pl↓」
		などと入力すると、２回目の test.pl の入力が「インタープリタ名
		  test.pl」と変換されず「インタープリタ名 less」と化けて
	しまっていた(1.35〜)
       </ul>
  <LI> <A NAME="1.39">1.38 → 1.39</A>(1998/6/14)
	<UL>
	 <LI> ls にオプション --inline-comment , --ignore-underbar ,
		--numeric-sort , --ignore-undarbar , --longname を追加/変更
	 <LI> ls -l で、拡張属性の存在を示す「e」を表示
	 <LI> Vz型ヒストリ参照
	 <LI> alias でワイルドカードを展開するマクロ「%+*」などを用意
	 <LI> 初期化ファイルとして「_nyaos」も読めるようにした。
         <LI> かんなのモード/変換候補を最下行に表示するようにした。
	 <LI> ドライブ文字のエイリアス
	 <LI> &quot;〜&quot;でのヒストリ変換の選択オプション
		(history_in_doublequote)を追加
	 <LI> _nyaos という名前のファイルが存在すれば、
		それを最初に実行するようにした。
	 <LI> ver で NYAOS のバージョンも表示
	 <LI> プロンプトマクロ $W で、ホームディレクトリをチルダで変換した
		カレントディレクトリを表示できるようにした。
	 <LI> インストーラにフォルダと 100x40 サイズの起動アイコンも作成させ
		るようにした。
	 <LI> 実行ファイルに LxLite をかけた。
	 <LI> 起動時の窓サイズ指定オプション(-g)の追加
	 <LI> ホームディレクトリ指定オプション(-h)の追加
	</UL>
	(廃止)
	<UL>
	 <LI> option ls_tail_slash
	 <LI> キーワード eadir 
	 <LI> ls の 00index.txt形式のコメント表示
	</UL>
	(bugfix)
	<UL>
	 <LI> ルートの一つ下のディレクトリで「open ..」
		を実行しても、ルートディレクトリが開けなかった。
	 <LI> foreach でのワイルドカード展開の結果がソートされていなかった。
	 <LI> 「...」で始まるパスに補完が効かなかった。
	 <LI> type 8&gt;8 で、core dump する。
	 <LI> NYAOS 終了時の「かんな」の Warning が化けていた。
         <LI> ダブルクォート間のチルダも$HOME に変換していた(仕様だったっけ？)
	</UL>
  <LI> <A NAME="1.40">1.39 → 1.40</A>(1998/6/21)
	<UL>
	  <LI> 「;」「+」「=」に隣接するパスも補完できるようにした。
	  <LI> 内部コマンドは大文字・小文字の区別をしないようにした。
	  <LI> bindkey で一部の機能名が認識されなかったのを修正
	  <LI> 一度かんなを起動すると、
		以後最下段がずっとモード行になっていたのを修正
	</UL>
  <LI> <A NAME="1.41">1.40 → 1.41</A>(1998/6/27)
	<UL>
	  <LI>かんな使用時の画面表示をちょっと速くした。
	  <LI>option +ignore_history の時に(つまりデフォルト)、
		!str で該当入力行が無いと落ちてしまうバグを修正
	  <LI>bind 〜 next_history が動作しなくなっていたバグを修正
	</UL>
  <LI> <A NAME="1.42">1.41 → 1.42</A>(1998/7/12)
	<UL>
	  <LI> 環境変数 CANNYA でかんなシステムのドライブ /
		カスタマイズファイルを指定するようにした。
	  <LI> HTML版ドキュメントの用意
	</UL>
  <LI> <A NAME="1.43">1.42 → 1.43</A>(1998/8/11)
	<UL>
	  <LI>	デフォルトのキーバインドは「bind nyaos」とし、「bind <!--
		-->tcsh」はヒストリを含めて tcsh と互換のバインドとした。
	</UL>
	(bugfix)
	<UL>
	  <LI>	ls をリダイレクトとすると、末尾に ESC[0mESC[K という制御<!--
		-->コードがついたままになっていた。
	  <LI>	複数行に渡る長い文字列を入力後のカーソル位置が、文字列末尾<!--
		-->の次の行ではなく、Enter入力時点のカーソル位置の次の行に<!--
		-->なっていた。
	  <LI>	「ls /os*」で assertion failed 終了してしまう。
	  <LI>	ドキュメントで廃止した命令の説明が残っていた。
	  <LI>  ドキュメントで rev_i_search が i_rev_search になっていた。
	</UL>
  <LI> <A NAME="1.44">1.43 → 1.44</A>(1998/9/6)
	<UL>
	  <LI>	set で(パスの重複チェック付)「+=」が使えるようになった。
	  <LI>	&amp;付でVIOプログラムを別セッションで実行させる時、
		終了の際にウインドウを自動クローズできるようにした。
	</UL>
	(bugfix)
	<UL>
	  <LI>	「-h」オプションで環境変数HOMEの設定ができなかった。
	  <LI>	「ls -l」で属性文字が正しく表示できない場合があった。
	  <LI>	デフォルトで「END」キーが効かなくなっていた。
	  <LI>	シングルクォートのダブルクォートへの変換を無効にできなかった。
	  <LI>	「-h」オプションで環境変数。
	</UL>

  <LI> <A NAME="1.45">1.44 → 1.45</A> (1998 10/25)
	<UL>
	  <LI>	挿入/上書きモードをInsertキーで切り換えるようにしてもらった。
	  <LI>	XFree86環境でも矢印キーによるカーソル移動できるように<!--
		-->してもらった。
	  <LI>	option amp_detach を設置し、「&amp;」をdetach
		に変換できるようにしてもらった。
	  <LI>	入力行の先頭からカーソル直前までの入力を削除<!--
		-->できるようにしてもらった。
	  <LI>	tcshライクに『cd -』や『pushd -』で、
		previous working directoryに移行するようにしてもらった。
	  <LI>	echo の「^a」。promptの「$za」をベルコードに
		置換するようにしてもらった。
	  <LI>	pushdでエラー(例えば、ENOENT)が起きた場合には、カレント
		ディレクトリをスタックに積まないようにしてもらった。
	  <LI>	使用不可のドライブへ cd しても、ポップアップウインドウを<!--
		-->出さないようにした。
	  <LI>	ls -c で新規作成日時、ls -uで最終アクセス日時でソート<!--
		-->表示するようにした。
	  <LI>	点滅ボックスカーソルを表示するようにした(option +vioの時のみ)。
	  <LI>	cursor コマンドを廃止した。
	  <LI>	option direct_key の設置
	</UL>
 (bugfix)
	<UL>
	  <LI>	option conv_complete(変換型補完)でカーソル位置や表示が<!--
		-->おかしくなっていた。
	  <LI>	「; ls ; ls 」で、ls が実行されない。
	  <LI>	nyaos.rc内のコマンドが history に登録されてしまい、<!--
		-->起動直後の history番号が 1 にならない。
	  <LI>	ls -t で全然、日時でソートされていなかった。
	  <LI>	ＩＭＥ経由で、半角カナが入力できなくなっていた。
	</UL>
  <LI> <A NAME="1.46">1.45 → 1.46</A> (1998/11/7)
	<UL>
	  <LI>	ワイルドカードにマッチするファイル名一覧を Ctrl-D
		で表示できるようにした。
	  <LI>	option printexitvalue : 外部コマンドがエラー終了した場合に
		エラーコードを表示するモードを追加
	  <LI>	popd +n (n:数値)を追加
	  <LI>	キーボード操作のヒストリと、置換系ヒストリの内容を統一した。
	</UL>
 (bugfix)
	<UL>
	  <LI>  第二バイトが¥の漢字を含む名前のディレクトリでは、
		プロンプト,pwd の表示がおかしくなる。
	  <LI>	第二バイトが¥の漢字が「.」直前にあるファイル(例:表.html)<!--
		-->が「ls」で表示されない。
	  <LI>	使えるはずの「pushd -」が使えなかった。
	  <LI>  pushd +n で、n がディレクトリスタックの数とちょうど同じ<!--
		-->時に落ちてしまう。
	  <LI>	スタックトップのディレクトリがもはや存在しない時「pushd<!--
		-->↓」を実行すると、落ちたり、動作が不安定になる。
	</UL>
  <LI> <A NAME="1.47">1.46→1.47</A> (1998/11/15)
	<UL>	変換型ファイル名補完を、TCSH型補完と共存できるようにした。
	  <LI>	Ｆ１キー(complete_to_fullpath)：ファイル名を絶対パスへ変換。
	  <LI>　Ｆ２キー(complete_to_url)：ファイル名をＵＲＬ<!--
		-->("file:///x|/〜")に変換。
	  <LI>	option conv_complete を廃止
	</UL>
 (bugfix)
	<UL>
	  <LI>	Ctrl-N でヒストリを参照していると、変な文字を表示したり、<!--
		-->Segmentation Fault を出したり、OS を落としたりしてしまう。
	  <LI>	Enter のみの入力で、exitvalue が 0 にならない。
	</UL>

  <LI><A NAME="1.48">1.48 (1999/1/31 )</A>
	<UL>
	<LI>変換型補完時でのキーバインドを自由に変更できるようにした。
	<LI>C-v で制御文字を入力できるようにした。
	<LI>option honest を追加
	<LI>ls でパイプ出力の際に、実行可能ファイルの末尾に「*」、<!--
		-->ディレクトリ末尾に「/」、その他のファイルに空白を<!--
		-->つけないようにした。
	<LH><B>[虫繕]</B>
	<LI>1000文字以上、入力しようとすると落ちてしまう。
	<LI>Vz型ヒストリで、漢字を含んだ文字列を呼び出すと<!--
		-->カーソル位置が狂ったり、落ちたりする。
	<LI>foreach の入力行で Exit ??? が繰り返し出ることがあった。 
	<LI>FAT で ls -lu を実行すると落ちる。
	<LI>カレント以外のディレクトリで、コメント・ロングネームが<!--
		-->表示されない。
	<LI>一度、かんなを起動すると、以後、制御キーを<!--
		-->タイプする度に、最下行に空行が設けられてしまう。
	<LI>内臓コマンドの後にスクリプト名や、「/」で<!--
		-->区切ったパスのコマンドを置けなかった。
	</UL>
  <LI><A NAME="1.48'">1.48’(1999/2/6)</A>
	<UL>
	<LH><B>[虫繕]</B>
	<LI>ドキュメントに、廃止した cursor コマンドがまだ載っていた。	
	</UL>
  <LI><A NAME="1.49">1.49 (1999/3/14)</A>
	<UL>emx 0.9d (gcc 2.8) 以降が必要となった。
	<LI>source の高速化の為、rem を内臓コマンド化した。
	<LI>source の高速化の為、コマンドライン先頭の「@」を<!--
		-->無視するようにした。
	<LI>source と同じ動作である、内臓コマンド call を用意。
	<LI>内臓echo で引数が ON/OFF の時に、何も(改行すら)表示<!--
		-->しないようにした。
	<LI>上書きモードでは半分、挿入モードではフルサイズの<!--
		-->カーソルになるようにした。
	<LI>set += のパスリストに対して、チルダ置換をするようにした。
	<LI>optionコマンドのオプションを、nyaos.exe の起動<!--
		-->オプションとして指定できるようにした。
	<LI>空白だけの入力の際には、ヒストリに登録しないようにした。
	<LI>option icanna (ignore canna:かんなを利用しない)を追加
	</UL>
	[虫繕]
	<UL>
	<LI>ls で「foo.bar.exe」といったドットが複数あるファイルが、<!--
		-->実行ファイルとみなされていなかった。
	<LI>bindkey で幾らか登録した後、bindkey でリストを<!--
		-->表示させると落ちてしまう場合があった。
	<LI>機能 kill_top_of_line で、行末の表示が残ってしまっていた。
	<LI>-Wall 付きコンパイルでも、Warning が出ないようにした。
	</UL>
  <LI>1.50 (1999/4/17)
	<UL>
	<LI>ワンキーで任意のプログラムを起動できるようになった。
	</UL>
  <LI>1.51 (1999/5/5)
	<UL>
	<LI>クリップボード経由のカット/コピー＆ペーストができるようになった。
	<LI>「ls -,」でファイルサイズを「29,180」のように表示するようにした。
	<LI>行末の「^」を次の行への継続とみなすようにした。
	<LI>付属の nyaos.rc を改訂
	<LI>Ctrl-J と Ctrl-M に別の機能を割り合てられるようにした。
	<LI>option ctrl_z_eof を廃止
	</UL>
	<B>[虫繕]</B>
	<UL>
	<LI>chkdsk.com などの OS/2 用 COMファイルを which で検索できなかった。
	　　(DOSの COMファイルも検索対称になってしまいますが…)
	<LI>REXXコマンド＋＆が、「start /F /C」に置換されなかった。
	<LI>コマンド名補完で、実行ファイル名に至るディレクトリ名が<!--
		-->補完できなかった。
	</UL>
  <LI>1.52 (1999/5/9)
	<UL>
	<LI>何も入力せずに、Enter をたたくと、直前に入力したコマンドが<!--
		-->実行されるようになっていた。<!--
		-->さらに、いきなり空入力すると、core dump する。
	<LI>マークを実際に表示できるようになった。
	<LI>ワイルドカードを用いたファイル名に変換型補完が使えるようになった。
	<LI>dirs などで表示されるディレクトリーがホームディレクトリ<!--
		-->以下ならば、ホームディレクトリ部分にチルダを<!--
		-->使用するようにした。
	<LI>popd +n の動作を tcsh と同じように +n 番目のスタックの廃棄とした。
	<LI>cd -p が移動対象を %CDPATH% の直下ディレクトリだけとしていた<!--
		-->制限を外した。
	</UL>
  <LI>1.52+ (スナップショットで適宜公開)
	<UL>
	<LI>クリップボードの入力をペーストせずに、<!--
		-->補完リストのように確認できるようになった。(Alt-Y:paste_test)
	<LI>~foo → %HOME%\..\foo の変換を
		option ±tilda_without_root で選択可能にした。
	<LI>制御文字をコピーすると、^+英文字としてコピーされてしまっていた。
	<LI>foreach で空入力すると、落ちてしまっていた。
	<LI>変換型ファイル名補完で、c:/usr/fo* を補完する際、<!--
		-->候補対象が c: の位置から表示されていた。
	<LI>マークが最後尾にある場合に、一時削除を行うと、<!--
		-->マークが2桁分表示されてしまう
	<LI>フルパス変換・URL変換で、「...」やチルダを認識していなかった。
	</UL>
  <LI>1.53 (1999/6/27：すぐひっこめた)
	<UL>
	<LI>変換型ファイル名補完で最初の候補から最後の<!--
		-->候補へ逆変換できるようになった。
	<LI>%CLASSPATH% 上の *.class ファイルをコマンド名の補完対象に加えた！
	<LI>コマンド名が XXX.class の時、「java XXX」と置換するようにした。
	<LI>foreach で、ループ変数を加工することができるようになった。
	<LI>ls -l で年数表示される基準を、去年の12/31以前から、<!--
		-->去年の今日以前とした。
		また、タイムスタンプが未来の場合も年数表示される。
	</UL>
	<B>[虫繕]</B>
	<UL>
	<LI>「ls 〈ダウンロード中のファイル名〉」がエラーになってしまっていた。
	</UL>
  <LI>1.54 (1999/6/27：すぐひっこめた)<BR>
	<B>[虫繕]</B>
	<UL>
	<LI>ls で、カレントディレクトリ直下でないディレクトリが<!--
		-->表示できなかった。
	</UL>
  <LI>1.55 (1999/7/10)
	<BR><B>[虫繕]</B>
	<UL>
	<LI>コマンド名補完を行うと落ちる。
	<LI>ls で、ワイルドカードを使うと落ちる。
	<LI>ls で、カレントディレクトリ直下でない<!--
		-->ディレクトリが表示できなかった。
	<LI>単語の末端ではなく、途中にカーソルがあった場合の Vz
		型ヒストリがおかしい。
	<LI>forward-word で、最後の単語上にカーソルがあった際、
		末尾へ移動できなかった。
	<LI>ls でFATのルートディレクトリを見ることができないことがあった。
		(1.53〜)
	<LI>ver /r で OS/2 のリビジョンが表示されなくなっていた。
	</UL>
  <LI>1.56 (1999/7/14)
	<BR><B>[虫繕]</B>
	<UL>
	<LI>「;」や「&」「;;」等、空コマンドを入力すると core dump する。
	</UL>
  <LI>1.57 (1999/8/7)
	<UL>
	<LI>環境変数の参照の際に、ディレクトリ名や拡張子を<!--
		-->取り出せるようにした。
	<LI>エイリアスの引数参照の際、ディレクトリ部分や拡張子を<!--
		-->取り出せるようにした。
	<LI>NYAOS 終了時に実行するコマンドをシェル/環境変数で<!--
		-->指定できるようにした。
	<LI>「foreach i …」の変数 i の値を、%i% でも参照できるようにした。
	<LI>シェル変数 CWD に常に現在のカレントディレクトリの内容を<!--
		-->反映するようにした。
	<LI>ls -j (-E)で、ファイルの 拡張属性.SUBJECT を表示できるようにした。
	<LI>subject コマンド(新設)で、拡張属性.SUBJECT の値を<!--
		-->設定できるようにした。
	<LI>Java アプリケーション実行支援機能で、java コマンドに<!--
		-->渡すべき、オプションをシェル変数 JAVAOPT <!--
		-->から得るようにした。
	<LI>comment命令で書くコメントのコードページを 932 より 0
		(無指定)とした。
	<LI>alias コマンドの古い書式(1.22以前との互換性の維持の<!--
		-->為のもの)を廃止した。
	</UL>
	<B>[虫繕]</B>
	<UL>
	<LI>CMD.EXE の for 命令がちゃんと使えるようになった。
	<LI>Vz 型ヒストリを使った直後に、全角文字を入力すると<!--
		-->core dump してしまった。
	</UL>
  <LI>1.58 (1999/9/5)
	<UL>
	<LI>エラーメッセージを任意に設定できるようになった！
	<LI>rehash で、コマンド名補完の消費メモリ量を表示するようにした。
	<LI>source で読むコマンドファイルでエラーが多すぎると、<!--
		-->中断させるようにした。
	</UL>
	<B>[虫繕]</B>
	<UL>
	<LI>プロンプトのマクロ $i で表示されるタイトルがおかしくなっていた。
	<LI>cls 命令を実行すると、最上段のタイトル行とバッティングしてしまう。
	<LI>「ls hoge.*」で「hoge」も表示されてしまっていた。
	<LI>プロンプトの長さ制限を全廃(今までは途中で切れてしまっていた)。
	<LI>「!1000」で落ちてしまう。
	<LI>ls -l で表示される「分」が「時間」になっていたのを修正。
	</UL>
  <LI>1.59 (1999/9/25)
	<UL>
	<LI>変数 NOTPATHCHAR で、ファイル名に含めない文字を指定<!--
		-->できるようにした。
	</UL>
	<B>[虫繕]</B>
	<UL>
	<LI>「~」や「~/」 だけに対して、フルパス化すると落ちるのを修正。
	</UL>
  <LI>1.60 (1999/10/31)
	<UL>
	<LI>ls のソート方法をバブルソートから、<!--
		-->マージソートへ変更して高速化した。
	<LI>インストーラーで、emx〜.dll のリビジョンを確認するようにした。
	</UL>
	<B>[虫繕]</B>
	<UL>
	<LI>0文字の.COMMENTS/.SUBJECT/.LONGNAME を持つファイルを<!--
		-->「ls -l」すると落ちることがあるのを修正
	<LI>hotkey で定義したコマンドを実行後「^C」が表示されるのを修正。
	</UL>
</UL>
</UL>
</BODY>
</HTML>

